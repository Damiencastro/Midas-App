<div style="background-color:#000000">
  <mat-toolbar style="background-color: black;" style="padding:10px 40px">
    <!-- <button mat-icon-button>
      <mat-icon>menu</mat-icon>
    </button> -->

    <img src="assets/Logo.png" style="max-height: 40px;" class="m-4">
    <a routerLink="/" class="text-amber-500 font-bold text-4xl" style="text-decoration:none">MIDAS</a>
    
    

    @if(userService.isLoggedIn$ | async){

    <div class="ml-auto">
      <div class="flex gap-2 items-center">
        <svg routerLink="/admin" viewBox="0 0 200 200" style="height: 50px; width: 50px;" xmlns="http://www.w3.org/2000/svg"> <!-- //*ngIf="isAdmin$ | async"> -->
          <defs>
            <linearGradient id="goldEye" x1="0%" y1="0%" x2="100%" y2="100%">
              <stop offset="0%" style="stop-color:#FFE5A0"/>
              <stop offset="100%" style="stop-color:#DAA520"/>
            </linearGradient>
            
            <filter id="glow" x="-50%" y="-50%" width="200%" height="200%">
              <feGaussianBlur stdDeviation="3" result="blur1"/>
              <feMerge>
                <feMergeNode in="blur1"/>
                <feMergeNode in="SourceGraphic"/>
              </feMerge>
            </filter>
          </defs>
        
          <!-- Outer hexagon -->
          <g filter="url(#glow)">
            <path d="M100,30 L160,65 L160,135 L100,170 L40,135 L40,65 Z"
              fill="none" 
              stroke="#FFD700" 
              stroke-width="2"
              opacity="0.5">
              <animateTransform
                attributeName="transform"
                type="rotate"
                from="0 100 100"
                to="360 100 100"
                dur="25s"
                repeatCount="indefinite"/>
            </path>
          </g>
        
          <!-- Rotating square -->
          <g filter="url(#glow)">
            <rect x="60" y="60" width="80" height="80" 
              fill="none" 
              stroke="#FFD700" 
              stroke-width="2"
              opacity="0.6">
              <animateTransform
                attributeName="transform"
                type="rotate"
                from="0 100 100"
                to="-360 100 100"
                dur="20s"
                repeatCount="indefinite"/>
            </rect>
          </g>
        
          <!-- Inner diamond -->
          <g filter="url(#glow)">
            <rect x="70" y="70" width="60" height="60" 
              fill="none" 
              stroke="#FFD700" 
              stroke-width="2"
              opacity="0.7"
              transform="rotate(45 100 100)">
              <animateTransform
                attributeName="transform"
                type="rotate"
                from="45 100 100"
                to="405 100 100"
                dur="15s"
                repeatCount="indefinite"/>
            </rect>
          </g>
        
          <!-- Outer rotating runes -->
          <g filter="url(#glow)">
            <g>
              <animateTransform
                attributeName="transform"
                type="rotate"
                from="0 100 100"
                to="-360 100 100"
                dur="30s"
                repeatCount="indefinite"/>
              <text x="100" y="40" text-anchor="middle" fill="#FFD700" font-size="14">ᚨ</text>
              <text x="160" y="100" text-anchor="middle" fill="#FFD700" font-size="14">ᚱ</text>
              <text x="100" y="160" text-anchor="middle" fill="#FFD700" font-size="14">ᚲ</text>
              <text x="40" y="100" text-anchor="middle" fill="#FFD700" font-size="14">ᚦ</text>
              
              <!-- Additional diagonal runes -->
              <text x="145" y="55" text-anchor="middle" fill="#FFD700" font-size="14">ᛟ</text>
              <text x="145" y="145" text-anchor="middle" fill="#FFD700" font-size="14">ᛈ</text>
              <text x="55" y="145" text-anchor="middle" fill="#FFD700" font-size="14">ᛉ</text>
              <text x="55" y="55" text-anchor="middle" fill="#FFD700" font-size="14">ᚹ</text>
            </g>
          </g>
        
          <!-- Inner rotating runes -->
          <g filter="url(#glow)">
            <g>
              <animateTransform
                attributeName="transform"
                type="rotate"
                from="0 100 100"
                to="360 100 100"
                dur="20s"
                repeatCount="indefinite"/>
              <text x="100" y="70" text-anchor="middle" fill="#FFD700" font-size="12">ᚺ</text>
              <text x="130" y="100" text-anchor="middle" fill="#FFD700" font-size="12">ᚻ</text>
              <text x="100" y="130" text-anchor="middle" fill="#FFD700" font-size="12">ᚾ</text>
              <text x="70" y="100" text-anchor="middle" fill="#FFD700" font-size="12">ᛁ</text>
            </g>
          </g>
        
          <!-- Eye -->
          <path d="M40,100 C60,70 140,70 160,100 C140,130 60,130 40,100"
            fill="none"
            stroke="url(#goldEye)"
            stroke-width="4"
            filter="url(#glow)"/>
        
          <!-- Iris -->
          <circle cx="100" cy="100" r="20"
            fill="url(#goldEye)"
            filter="url(#glow)">
            <animate
              attributeName="r"
              values="20;18;20"
              dur="3s"
              repeatCount="indefinite"/>
          </circle>
        
          <!-- Center rune -->
          <text x="100" y="105" text-anchor="middle" fill="#FFD700" font-size="12" filter="url(#glow)">ᛗ</text>
        </svg>
        <svg routerLink="/calendar" viewBox="0 0 200 200" style="width: 50px; height: 50px;" xmlns="http://www.w3.org/2000/svg">
          <defs>
            <filter id="calendarGlow" x="-50%" y="-50%" width="200%" height="200%">
              <feGaussianBlur stdDeviation="2" result="blur1"/>
              <feGaussianBlur stdDeviation="4" result="blur2"/>
              <feMerge>
                <feMergeNode in="blur1"/>
                <feMergeNode in="blur2"/>
                <feMergeNode in="SourceGraphic"/>
              </feMerge>
            </filter>
            
            <linearGradient id="calendarGold" x1="0%" y1="0%" x2="100%" y2="100%">
              <stop offset="0%" style="stop-color:#FFE5A0"/>
              <stop offset="45%" style="stop-color:#FFD700"/>
              <stop offset="75%" style="stop-color:#DAA520"/>
              <stop offset="100%" style="stop-color:#B8860B"/>
            </linearGradient>
        
            <linearGradient id="headerGold" x1="0%" y1="0%" x2="0%" y2="100%">
              <stop offset="0%" style="stop-color:#FFD700"/>
              <stop offset="100%" style="stop-color:#DAA520"/>
            </linearGradient>
          </defs>
        
          <!-- Main calendar body -->
          <rect x="40" y="40" width="120" height="130" rx="10" 
            fill="none" 
            stroke="url(#calendarGold)" 
            stroke-width="4"
            filter="url(#calendarGlow)">
            <animate attributeName="stroke-opacity"
              values="1;0.7;1"
              dur="3s"
              repeatCount="indefinite"/>
          </rect>
        
          <!-- Calendar header -->
          <rect x="40" y="40" width="120" height="30" rx="10" 
            fill="url(#headerGold)"
            opacity="0.5"
            filter="url(#calendarGlow)"/>
        
          <!-- Hanging loops -->
          <path d="M70 30 Q80 40 90 30" 
            fill="none" 
            stroke="#FFD700" 
            stroke-width="3"
            filter="url(#calendarGlow)">
            <animate attributeName="d"
              values="M70 30 Q80 40 90 30;M70 32 Q80 42 90 32;M70 30 Q80 40 90 30"
              dur="3s"
              repeatCount="indefinite"/>
          </path>
        
          <path d="M110 30 Q120 40 130 30" 
            fill="none" 
            stroke="#FFD700" 
            stroke-width="3"
            filter="url(#calendarGlow)">
            <animate attributeName="d"
              values="M110 30 Q120 40 130 30;M110 32 Q120 42 130 32;M110 30 Q120 40 130 30"
              dur="3s"
              begin="0.5s"
              repeatCount="indefinite"/>
          </path>
        
          <!-- Decorative runes on header -->
          <text x="60" y="60" fill="#FFD700" font-size="12" filter="url(#calendarGlow)">ᚨ</text>
          <text x="140" y="60" fill="#FFD700" font-size="12" filter="url(#calendarGlow)">ᚱ</text>
        
          <!-- Calendar grid lines - vertical -->
          <g stroke="#FFE5A0" stroke-width="1.5" opacity="0.8" filter="url(#calendarGlow)">
            <line x1="60" y1="80" x2="60" y2="160">
              <animate attributeName="opacity"
                values="0.8;0.4;0.8"
                dur="2s"
                repeatCount="indefinite"/>
            </line>
            <line x1="85" y1="80" x2="85" y2="160">
              <animate attributeName="opacity"
                values="0.8;0.4;0.8"
                dur="2s"
                begin="0.2s"
                repeatCount="indefinite"/>
            </line>
            <line x1="110" y1="80" x2="110" y2="160">
              <animate attributeName="opacity"
                values="0.8;0.4;0.8"
                dur="2s"
                begin="0.4s"
                repeatCount="indefinite"/>
            </line>
            <line x1="135" y1="80" x2="135" y2="160">
              <animate attributeName="opacity"
                values="0.8;0.4;0.8"
                dur="2s"
                begin="0.6s"
                repeatCount="indefinite"/>
            </line>
          </g>
        
          <!-- Calendar grid lines - horizontal -->
          <g stroke="#FFE5A0" stroke-width="1.5" opacity="0.8" filter="url(#calendarGlow)">
            <line x1="45" y1="100" x2="155" y2="100">
              <animate attributeName="opacity"
                values="0.8;0.4;0.8"
                dur="2s"
                begin="0.1s"
                repeatCount="indefinite"/>
            </line>
            <line x1="45" y1="120" x2="155" y2="120">
              <animate attributeName="opacity"
                values="0.8;0.4;0.8"
                dur="2s"
                begin="0.3s"
                repeatCount="indefinite"/>
            </line>
            <line x1="45" y1="140" x2="155" y2="140">
              <animate attributeName="opacity"
                values="0.8;0.4;0.8"
                dur="2s"
                begin="0.5s"
                repeatCount="indefinite"/>
            </line>
          </g>
        
          <!-- Grid intersection points -->
          <g fill="#FFD700" filter="url(#calendarGlow)">
            <circle cx="60" cy="100" r="1.5"/>
            <circle cx="85" cy="100" r="1.5"/>
            <circle cx="110" cy="100" r="1.5"/>
            <circle cx="135" cy="100" r="1.5"/>
            
            <circle cx="60" cy="120" r="1.5"/>
            <circle cx="85" cy="120" r="1.5"/>
            <circle cx="110" cy="120" r="1.5"/>
            <circle cx="135" cy="120" r="1.5"/>
            
            <circle cx="60" cy="140" r="1.5"/>
            <circle cx="85" cy="140" r="1.5"/>
            <circle cx="110" cy="140" r="1.5"/>
            <circle cx="135" cy="140" r="1.5"/>
          </g>
        
          <!-- Glowing dots for current date -->
          <circle cx="72" cy="110" r="3" fill="#FFD700" filter="url(#calendarGlow)">
            <animate attributeName="opacity"
              values="1;0.5;1"
              dur="2s"
              repeatCount="indefinite"/>
          </circle>
        
          <!-- Mystical sparkles -->
          <g filter="url(#calendarGlow)">
            <circle cx="45" cy="45" r="1.5" fill="#FFE5A0">
              <animate attributeName="opacity"
                values="1;0;1"
                dur="1.5s"
                repeatCount="indefinite"/>
            </circle>
            <circle cx="155" cy="45" r="1.5" fill="#FFE5A0">
              <animate attributeName="opacity"
                values="1;0;1"
                dur="1.5s"
                begin="0.5s"
                repeatCount="indefinite"/>
            </circle>
            <circle cx="45" cy="165" r="1.5" fill="#FFE5A0">
              <animate attributeName="opacity"
                values="1;0;1"
                dur="1.5s"
                begin="0.75s"
                repeatCount="indefinite"/>
            </circle>
            <circle cx="155" cy="165" r="1.5" fill="#FFE5A0">
              <animate attributeName="opacity"
                values="1;0;1"
                dur="1.5s"
                begin="1s"
                repeatCount="indefinite"/>
            </circle>
          </g>
        </svg>
        <svg routerLink="/portal/" viewBox="0 0 200 200" style="height: 50px; width: 50px;" xmlns="http://www.w3.org/2000/svg">
          <defs>
            <filter id="portalGlow" x="-50%" y="-50%" width="200%" height="200%">
              <feGaussianBlur stdDeviation="3" result="blur1"/>
              <feGaussianBlur stdDeviation="5" result="blur2"/>
              <feMerge>
                <feMergeNode in="blur1"/>
                <feMergeNode in="blur2"/>
                <feMergeNode in="SourceGraphic"/>
              </feMerge>
            </filter>
            
            <linearGradient id="portalGold" x1="0%" y1="0%" x2="100%" y2="100%">
              <stop offset="0%" style="stop-color:#FFE5A0"/>
              <stop offset="45%" style="stop-color:#FFD700"/>
              <stop offset="75%" style="stop-color:#DAA520"/>
              <stop offset="100%" style="stop-color:#B8860B"/>
            </linearGradient>
          </defs>
        
          <!-- Background glow -->
          <ellipse cx="100" cy="100" rx="60" ry="80" 
            fill="rgba(255,215,0,0.1)" 
            filter="url(#portalGlow)"/>
        
          <!-- Wavy concentric rings -->
          <g filter="url(#portalGlow)">
            <ellipse cx="100" cy="100" rx="50" ry="70" fill="none" stroke="#FFD700" opacity="0.4">
              <animate attributeName="rx" values="50;51;50" dur="3s" repeatCount="indefinite"/>
              <animate attributeName="ry" values="70;71;70" dur="3s" repeatCount="indefinite"/>
            </ellipse>
            
            <ellipse cx="100" cy="100" rx="47" ry="66" fill="none" stroke="#FFD700" opacity="0.4">
              <animate attributeName="rx" values="47;48;47" dur="3.2s" repeatCount="indefinite"/>
              <animate attributeName="ry" values="66;67;66" dur="3.2s" repeatCount="indefinite"/>
            </ellipse>
            
            <ellipse cx="100" cy="100" rx="44" ry="62" fill="none" stroke="#FFD700" opacity="0.4">
              <animate attributeName="rx" values="44;45;44" dur="3.4s" repeatCount="indefinite"/>
              <animate attributeName="ry" values="62;63;62" dur="3.4s" repeatCount="indefinite"/>
            </ellipse>
            
            <ellipse cx="100" cy="100" rx="41" ry="58" fill="none" stroke="#FFD700" opacity="0.4">
              <animate attributeName="rx" values="41;42;41" dur="3.6s" repeatCount="indefinite"/>
              <animate attributeName="ry" values="58;59;58" dur="3.6s" repeatCount="indefinite"/>
            </ellipse>
            
            <ellipse cx="100" cy="100" rx="38" ry="54" fill="none" stroke="#FFD700" opacity="0.4">
              <animate attributeName="rx" values="38;39;38" dur="3.8s" repeatCount="indefinite"/>
              <animate attributeName="ry" values="54;55;54" dur="3.8s" repeatCount="indefinite"/>
            </ellipse>
            
            <ellipse cx="100" cy="100" rx="35" ry="50" fill="none" stroke="#FFD700" opacity="0.4">
              <animate attributeName="rx" values="35;36;35" dur="4s" repeatCount="indefinite"/>
              <animate attributeName="ry" values="50;51;50" dur="4s" repeatCount="indefinite"/>
            </ellipse>
          </g>
        
          <!-- Outer spinning runes -->
          <g filter="url(#portalGlow)">
            <g>
              <animateTransform
                attributeName="transform"
                type="rotate"
                from="0 100 100"
                to="360 100 100"
                dur="20s"
                repeatCount="indefinite"/>
              <text x="100" y="20" text-anchor="middle" fill="#FFD700" font-size="12">ω</text>
              <text x="140" y="40" text-anchor="middle" fill="#FFD700" font-size="12">ᚱ</text>
              <text x="160" y="100" text-anchor="middle" fill="#FFD700" font-size="12">ᚲ</text>
              <text x="140" y="160" text-anchor="middle" fill="#FFD700" font-size="12">ᚦ</text>
              <text x="100" y="180" text-anchor="middle" fill="#FFD700" font-size="12">Ψ</text>
              <text x="60" y="160" text-anchor="middle" fill="#FFD700" font-size="12">ᛇ</text>
              <text x="40" y="100" text-anchor="middle" fill="#FFD700" font-size="12">ᛉ</text>
              <text x="60" y="40" text-anchor="middle" fill="#FFD700" font-size="12">ᛊ</text>
            </g>
          </g>
        
          <!-- Inner spinning runes (opposite direction) -->
          <g filter="url(#portalGlow)">
            <g>
              <animateTransform
                attributeName="transform"
                type="rotate"
                from="360 100 100"
                to="0 100 100"
                dur="15s"
                repeatCount="indefinite"/>
              <text x="100" y="40" text-anchor="middle" fill="#FFE5A0" font-size="10">ζ</text>
              <text x="130" y="55" text-anchor="middle" fill="#FFE5A0" font-size="10">ξ</text>
              <text x="145" y="100" text-anchor="middle" fill="#FFE5A0" font-size="10">ᛖ</text>
              <text x="130" y="145" text-anchor="middle" fill="#FFE5A0" font-size="10">Γ</text>
              <text x="100" y="160" text-anchor="middle" fill="#FFE5A0" font-size="10">Δ</text>
              <text x="70" y="145" text-anchor="middle" fill="#FFE5A0" font-size="10">ᛜ</text>
              <text x="55" y="100" text-anchor="middle" fill="#FFE5A0" font-size="10">δ</text>
              <text x="70" y="55" text-anchor="middle" fill="#FFE5A0" font-size="10">ᚺ</text>
            </g>
          </g>
        
          <!-- Inner portal -->
          <ellipse cx="100" cy="100" rx="25" ry="35"
            fill="url(#portalGold)"
            opacity="0.3"
            filter="url(#portalGlow)">
            <animate attributeName="rx" 
              values="25;27;25"
              dur="3s"
              repeatCount="indefinite"/>
            <animate attributeName="ry" 
              values="35;37;35"
              dur="3s"
              repeatCount="indefinite"/>
          </ellipse>
        </svg>
        <a [matMenuTriggerFor]="profileDropdownMenu" class="flex gap-2 cursor-pointer items-center">
          <!-- <div class="bg-amber-400 text-white font-bold shadow-md rounded-full w-5 h-5 p-4 flex justify-center items-center">
            {{userDetail!.username.charAt(0).toUpperCase()}}
          </div> -->

          <img src="assets/Male Icon.png" class="py-10" style="max-width: 40px; margin:auto">
          <div class="text-white flex flex-col pr-5">
            <h1 class="p-0 m-0 font-medium">
              {{userService.username$ | async}}
            </h1>
            <p class="p-0 pt-1 m-0 font-medium text-xs">
              {{userService.viewRole$ | async}}
            </p>
          </div>
        </a>
        <mat-menu #profileDropdownMenu="matMenu" style="background-color: #121316">
          <!-- <button [routerLink]="['account',userDetail.id]" mat-menu-item> -->
          <button routerLink="/profile" mat-menu-item>
            <mat-icon>account_circle</mat-icon>
            <span>
              View Profile
            </span>
          </button>

          <!-- Logout -->
          <button (click)="logout()" mat-menu-item>
            <mat-icon>
              logout
            </mat-icon>
            <span>Logout</span>
          </button>

          <!-- Change Password -->
          <button routerLink="/forgot-password" mat-menu-item>
            <mat-icon>
              password
            </mat-icon>
            <span>
              Change Password
            </span>
          </button>
        </mat-menu>

        

      </div>
    </div>
    }@else{
    <div>
      <div class="flex gap5 items-center">
        <a mat-button routerLink="/login">
          Login
        </a>

        <a mat-button routerLink="/request-system-access">
          Register
        </a>

      </div>
    </div>
    }

  </mat-toolbar>
</div>
